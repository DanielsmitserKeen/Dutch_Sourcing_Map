<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login – VC Startup Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen">

  <div class="bg-white shadow-lg rounded-xl p-8 max-w-sm w-full text-center">
    <h1 class="text-2xl font-bold text-slate-800 mb-6">Welcome</h1>
    <p class="text-slate-600 mb-6">Sign in to continue to StartupSpot</p>

    <!-- Google login button -->
    <button id="google-login"
      class="w-full flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-lg shadow">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 48 48">
        <path fill="#EA4335" d="M24 9.5c3.4 0 6.4 1.2 8.8 3.6l6.6-6.6C35.7 2.6 30.3 0 24 0 14.6 0 6.6 5.4 2.6 13.2l7.7 6C12.4 13 17.7 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.1 24.5c0-1.6-.1-3.1-.4-4.5H24v9h12.5c-.5 2.8-2 5.1-4.2 6.7l6.6 5c3.9-3.6 6.2-9 6.2-16.2z"/>
        <path fill="#FBBC05" d="M10.3 28.8c-1-2.8-1-5.9 0-8.7l-7.7-6C-1.1 18.1-1.1 29.9 2.6 36.8l7.7-6z"/>
        <path fill="#34A853" d="M24 48c6.3 0 11.6-2.1 15.5-5.7l-6.6-5c-1.8 1.3-4.1 2.1-6.6 2.1-6.3 0-11.6-4.3-13.4-10l-7.7 6C6.6 42.6 14.6 48 24 48z"/>
      </svg>
      Sign in with Google
    </button>

    <p id="status" class="mt-4 text-sm text-slate-500"></p>
  </div>

  <script type="module">
    import { supabase } from "./lib/supabaseClient.js";

    const button = document.getElementById("google-login");
    const status = document.getElementById("status");

    button.addEventListener("click", async () => {
      status.textContent = "Redirecting to Google login...";
      const { data, error } = await supabase.auth.signInWithOAuth({
        provider: "google",
        options: {
          redirectTo: "https://danielsmitserkeen.github.io/Dutch_Sourcing_Map/startupspot.html"
        }
      });

      if (error) {
        console.error("❌ Google login error:", error.message);
        status.textContent = "Login failed: " + error.message;
      } else {
        console.log("✅ Supabase OAuth response:", data);
      }
    });
  </script>
</body>
</html>
