<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StartupSphere Navigator</title>
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/feather-icons"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FFFFFF',
            secondary: '#E76200',
          }
        }
      }
    }
  </script>
  <style>
    .industry-button.active {
      background-color: #E76200;
      color: white;
    }
  </style>
</head>
<body class="bg-primary font-sans antialiased">
  <!-- Hero -->
  <div class="max-w-7xl mx-auto py-12 px-4 sm:py-16 sm:px-6 lg:px-8 text-center">
    <h1 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl">
      Explore your industry
    </h1>
  </div>

  <!-- Industry Tabs -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8 text-center">
    <div class="flex flex-wrap justify-center gap-2">
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="All">All</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Consumer markets">Consumer markets</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Energy, utilities & resources">Energy, utilities & resources</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Financial services">Financial services</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Government & public sector">Government & public sector</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Health industries">Health industries</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Industrials & services">Industrials & services</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Private capital">Private capital</button>
      <button class="industry-button px-4 py-2 rounded-full border border-gray-300 text-sm text-gray-700 hover:bg-gray-100" data-industry="Technology, media & telecom">Technology, media & telecom</button>
    </div>
  </div>

  <!-- Industry Sections -->
  <div id="industrySections" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16 grid gap-10 sm:grid-cols-2 lg:grid-cols-3">
    <!-- Filled dynamically with JS -->
  </div>

  <script>
    feather.replace();

    const industryDescriptions = {
      "Consumer markets": "Think big, move fast. Consumer companies must be bold, act swiftly, and adapt to shifting demands.",
      "Energy, utilities & resources": "Shaping a sustainable energy future with renewables, storage, and smart infrastructure.",
      "Financial services": "Rewire for a digital-first world with fintech, neobanks, and investment platforms.",
      "Government & public sector": "Deliver smarter solutions and public innovation for global societies.",
      "Health industries": "Reinventing healthcare with diagnostics, devices, biotech, and digital therapeutics.",
      "Industrials & services": "Automation, robotics, and AI powering next-generation industries.",
      "Private capital": "Driving investment across growth, buyout, and venture strategies.",
      "Technology, media & telecom": "Accelerating the digital era with AI, software, and connectivity.",
    };

    let startups = [];

    // Load CSV
    fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vTEIrT3TH2GL4XngIpNOqqMptIU2N66LwPqXbg86MFOX6mxnr5SWIsGa7lYtrzuP1mex8n4qjU6bS3Z/pub?gid=753064840&single=true&output=csv")
      .then(res => res.text())
      .then(csv => {
        const parsed = Papa.parse(csv, { header: true });
        startups = parsed.data;
        renderSections("All");
      });

    function renderSections(industryFilter) {
      const container = document.getElementById("industrySections");
      container.innerHTML = "";

      // Group startups by industry
      const grouped = {};
      startups.forEach(s => {
        const name = s["company_name"];
        const industry = s["industry"];
        const domain = s["domain"];

        if (!name || !industry) return;
        if (!grouped[industry]) grouped[industry] = [];
        grouped[industry].push({ name, domain });
      });

      for (const [industry, list] of Object.entries(grouped)) {
        if (industryFilter !== "All" && industry !== industryFilter) continue;

        const div = document.createElement("div");
        div.className = "p-6 bg-white border rounded-lg shadow-sm flex flex-col justify-between";

        div.innerHTML = `
          <h3 class="text-lg font-bold text-gray-900">${industry}</h3>
          <p class="mt-2 text-sm text-gray-600">${industryDescriptions[industry] || ""}</p>
          <ul class="mt-4 space-y-2 text-sm text-gray-700">
            ${list.map(s => `
              <li>
                ${s.domain 
                  ? `<a href="https://${s.domain}" target="_blank" class="text-secondary hover:underline">${s.name}</a>` 
                  : s.name}
              </li>
            `).join("")}
          </ul>
        `;
        container.appendChild(div);
      }
    }

    // Industry button filter
    document.querySelectorAll(".industry-button").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".industry-button").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        renderSections(btn.dataset.industry);
      });
    });
  </script>
</body>
</html>
